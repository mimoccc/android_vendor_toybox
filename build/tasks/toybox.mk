#modules_to_install := $(error $(ALL_GENERATED_SOURCES))
#smodules_to_install := $(ALL_MODULES.acp.INSTALLED) $(filter-out $(TARGET_COMMON_OUT_ROOT)/%,$(filter-out $(HOST_OUT_ROOT)/%,$(modules_to_install)))
#modules_to_build := $(sort $(filter $($(TARGET_2ND_ARCH_VAR_PREFIX)PRODUCT_OUT)//%,$(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).INSTALLED))))
#modules_to_build += $(sort $(filter $(PRODUCT_OUT)/%,$(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).INSTALLED))))
#modules_to_build += $(sort $(filter $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_OUT_INTERMEDIATES)/lib/%,$(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).BUILT))))
#modules_to_build += $(sort $(filter $(TARGET_OUT_INTERMEDIATES)/lib/%,$(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).BUILT))))
#modules_to_build += $(sort $(filter $(TARGET_OUT_INTERMEDIATES)/lib/%,$(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).GENERATED))))
#modules_to_build :=  $(sort $(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).INSTALLED)))
#modules_to_build +=  $(sort $(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).BUILT_INSTALLED)))
#modules_to_build +=  $(sort $(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).BUILT)))
#modules_to_build +=  $(sort $(foreach m,$(ALL_MODULES),$(ALL_MODULES.$(m).REQUIRED)))
#modules_to_build += $(TARGET_CRTBEGIN_STATIC_O) $(TARGET_CRTBEGIN_DYNAMIC_O) $(TARGET_CRTEND_O) $(TARGET_CRTBEGIN_SO_O) $(TARGET_CRTEND_SO_O)
#modules_to_build += $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_CRTBEGIN_STATIC_O) $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_CRTBEGIN_DYNAMIC_O) $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_CRTEND_O) $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_CRTBEGIN_SO_O) $($(TARGET_2ND_ARCH_VAR_PREFIX)TARGET_CRTEND_SO_O)
#$(error modules_to_install=$(modules_to_install))
#$(error modules_to_build=$(sort $(modules_to_build)))

#PRODUCT_COPY_FILES:=$(filter-out device/% frameworks/%,$(PRODUCT_COPY_FILES))

$(indo BUILT_RAMDISK_TARGET=$(BUILT_RAMDISK_TARGET))

.PHONY: $(TOYBOX_GOAL)
$(TOYBOX_GOAL): $(modules_to_install)
	$(hide) mkdir -vp $(TARGET_ROOT_OUT_SYSTEM)
	$(hide) $(ACP) -dpvrf $(TARGET_OUT)/* $(TARGET_ROOT_OUT_SYSTEM)
	$(hide) $(MKBOOTFS) $(TARGET_ROOT_OUT) | $(MINIGZIP) > $(BUILT_RAMDISK_TARGET)
#ifneq ($(filter $(MAKECMDGOALS),$(TOYBOX_GOAL)),)
#modules_to_install := $(host_modules_to_install)
#modules_to_check := $(host_modules_to_check)
#$( modules_to_install=$(modules_to_install))

